{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/App/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/LoadingElement/LoadingElement.module.css","services/imagesApi.js","images/search.svg","components/Searchbar/Searchbar.jsx","images/closeBtn.svg","components/Modal/Modal.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/LoadingElement/LoadingElement.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css"],"names":["module","exports","BASE_URL","API_KEY","a","searchQuery","page","pageSize","fetch","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","query","setQuery","className","s","searchbar","form","e","preventDefault","trim","toast","type","button","icon","src","searchIcon","alt","input","value","onChange","currentTarget","autoComplete","autoFocus","placeholder","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgCloseBtn","_ref","svgRef","title","titleId","props","xmlns","xmlnsXlink","width","height","viewBox","xmlSpace","ref","id","transform","style","stroke","strokeWidth","strokeDasharray","strokeLinecap","strokeLinejoin","strokeMiterlimit","fill","fillRule","opacity","d","ForwardRef","modalRoot","document","querySelector","Modal","toggleModal","largeImageURL","tags","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","overlay","onClick","isClickedOnBackdrop","isClickedOnSvg","nodeName","isClickedOnSvgPath","closeButton","modal","ImageGalleryItem","webformatURL","showModal","setShowModal","galleryItem","galleryItemImage","ImageGallery","images","gallery","map","Button","onMoreBtnClick","LoadingElement","loader","color","App","setSearchQuery","setImages","setPage","loading","setLoading","error","setError","setHeight","console","log","setScrollHeight","useCallback","scrollHeight","body","documentElement","clientHeight","scrollTop","APIfetchImages","then","resultImages","prevImages","hits","catch","finally","useLayoutEffect","scrollTo","top","behavior","app","errorMessage","message","state","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.340b22df.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__3HZ6f\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__3lPqp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1-8Qy\",\"errorMessage\":\"App_errorMessage__1Fhtp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__K_J7f\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1C6y4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"LoadingElement_loader__oCfMN\"};","const BASE_URL = 'https://pixabay.com';\r\nconst API_KEY = '23351611-7864196d6829752dad19e3759';\r\n\r\nexport default async function APIfetchImages({\r\n  searchQuery = '',\r\n  page = 1,\r\n  pageSize = 12,\r\n}) {\r\n  const response = await fetch(\r\n    `${BASE_URL}/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=${pageSize}`,\r\n  );\r\n  return response.ok\r\n    ? await response.json()\r\n    : Promise.reject(new Error('Not found'));\r\n}\r\n","export default __webpack_public_path__ + \"static/media/search.2c56cdac.svg\";","import { useState } from 'react';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport searchIcon from '../../images/search.svg';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleQueryChange = e => {\r\n    setQuery(e.currentTarget.value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (query.trim() === '') {\r\n      toast('Type in the keyword');\r\n      return;\r\n    }\r\n    onSubmit(query);\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form className={s.form} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={s.button}>\r\n          <img className={s.icon} src={searchIcon} alt=\"search\" />\r\n        </button>\r\n        <ToastContainer />\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          value={query}\r\n          onChange={handleQueryChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","var _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgCloseBtn(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 30,\n    height: 30,\n    viewBox: \"0 0 256 256\",\n    xmlSpace: \"preserve\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, /*#__PURE__*/React.createElement(\"g\", {\n    transform: \"translate(128 128) scale(0.87 0.87)\",\n    style: {}\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    style: {\n      stroke: \"none\",\n      strokeWidth: 0,\n      strokeDasharray: \"none\",\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\",\n      strokeMiterlimit: 10,\n      fill: \"none\",\n      fillRule: \"nonzero\",\n      opacity: 1\n    },\n    transform: \"translate(-144.89999999999998 -144.90000000000003) scale(3.22 3.22)\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 24.482 67.518 c -0.512 0 -1.024 -0.195 -1.414 -0.586 c -0.781 -0.781 -0.781 -2.047 0 -2.828 l 41.035 -41.035 c 0.781 -0.781 2.047 -0.781 2.828 0 c 0.781 0.781 0.781 2.047 0 2.828 L 25.896 66.932 C 25.506 67.322 24.994 67.518 24.482 67.518 z\",\n    style: {\n      stroke: \"none\",\n      strokeWidth: 1,\n      strokeDasharray: \"none\",\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\",\n      strokeMiterlimit: 10,\n      fill: \"#fff\",\n      fillRule: \"nonzero\",\n      opacity: 1\n    },\n    transform: \" matrix(1 0 0 1 0 0) \",\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 65.518 67.518 c -0.512 0 -1.023 -0.195 -1.414 -0.586 L 23.068 25.896 c -0.781 -0.781 -0.781 -2.047 0 -2.828 c 0.78 -0.781 2.048 -0.781 2.828 0 l 41.035 41.035 c 0.781 0.781 0.781 2.047 0 2.828 C 66.541 67.322 66.029 67.518 65.518 67.518 z\",\n    style: {\n      stroke: \"none\",\n      strokeWidth: 1,\n      strokeDasharray: \"none\",\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\",\n      strokeMiterlimit: 10,\n      fill: \"#fff\",\n      fillRule: \"nonzero\",\n      opacity: 1\n    },\n    transform: \" matrix(1 0 0 1 0 0) \",\n    strokeLinecap: \"round\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M 45 90 C 20.187 90 0 69.813 0 45 C 0 20.187 20.187 0 45 0 c 24.813 0 45 20.187 45 45 C 90 69.813 69.813 90 45 90 z M 45 4 C 22.393 4 4 22.393 4 45 s 18.393 41 41 41 s 41 -18.393 41 -41 S 67.607 4 45 4 z\",\n    style: {\n      stroke: \"none\",\n      strokeWidth: 1,\n      strokeDasharray: \"none\",\n      strokeLinecap: \"butt\",\n      strokeLinejoin: \"miter\",\n      strokeMiterlimit: 10,\n      fill: \"#fff\",\n      fillRule: \"nonzero\",\n      opacity: 1\n    },\n    transform: \" matrix(1 0 0 1 0 0) \",\n    strokeLinecap: \"round\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgCloseBtn);\nexport default __webpack_public_path__ + \"static/media/closeBtn.ef88d0f9.svg\";\nexport { ForwardRef as ReactComponent };","import { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport { ReactComponent as CloseButton } from '../../images/closeBtn.svg';\r\nimport s from './Modal.module.css';\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ toggleModal, largeImageURL, tags }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = e => {\r\n    const isClickedOnBackdrop = e.currentTarget === e.target;\r\n    const isClickedOnSvg = e.target.nodeName === 'svg';\r\n    const isClickedOnSvgPath = e.target.nodeName === 'path';\r\n    if (isClickedOnBackdrop || isClickedOnSvg || isClickedOnSvgPath) {\r\n      toggleModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={handleBackdropClick}>\r\n      <CloseButton className={s.closeButton} fill=\"#fff\" />\r\n      <div className={s.modal}>\r\n        <img src={largeImageURL} alt={tags} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n","import { useState } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({\r\n  id,\r\n  webformatURL,\r\n  largeImageURL,\r\n  tags,\r\n}) {\r\n  const [showModal, setShowModal] = useState(false);\r\n\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n\r\n  return (\r\n    <li key={id} className={s.galleryItem}>\r\n      <img\r\n        onClick={toggleModal}\r\n        className={s.galleryItemImage}\r\n        src={webformatURL}\r\n        alt={tags}\r\n      />\r\n      {showModal && (\r\n        <Modal\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n          toggleModal={toggleModal}\r\n        />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n","import ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport s from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images }) => {\r\n  return (\r\n    <ul className={s.gallery}>\r\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n        <ImageGalleryItem\r\n          key={id}\r\n          id={id}\r\n          webformatURL={webformatURL}\r\n          largeImageURL={largeImageURL}\r\n          tags={tags}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\nexport default ImageGallery;\r\n","import s from './Button.module.css';\r\n\r\nconst Button = ({ onMoreBtnClick }) => (\r\n  <button className={s.button} onClick={onMoreBtnClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nexport default Button;\r\n","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from \"./LoadingElement.module.css\";\r\n\r\nconst LoadingElement = () => {\r\n  return (\r\n    <Loader\r\n      className={s.loader}\r\n      type=\"Oval\"\r\n      color=\"#3f51b5\"\r\n      height={100}\r\n      width={100}\r\n    />\r\n  );\r\n};\r\n\r\nexport default LoadingElement;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useCallback,\r\n} from 'react';\r\nimport APIfetchImages from '../../services/imagesApi';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\nimport Button from '../Button/Button';\r\nimport LoadingElement from '../LoadingElement/LoadingElement';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './App.module.css';\r\n\r\nexport default function App() {\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [images, setImages] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [height, setHeight] = useState(null);\r\n  console.log(height);\r\n  const setScrollHeight = useCallback(() => {\r\n    const searchbarAndButtonHeight = 150;\r\n    const scrollHeight =\r\n      document.body.scrollHeight -\r\n      (document.body.scrollHeight -\r\n        (document.documentElement.clientHeight +\r\n          document.documentElement.scrollTop -\r\n          searchbarAndButtonHeight));\r\n    setHeight(scrollHeight);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) {\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    if (page === 1) {\r\n    }\r\n    APIfetchImages({ searchQuery, page })\r\n      .then(resultImages => {\r\n        setImages(prevImages => [...prevImages, ...resultImages.hits]);\r\n        if (page > 1) {\r\n          setScrollHeight();\r\n        }\r\n      })\r\n      .catch(error => setError({ error }))\r\n      .finally(() => setLoading(false));\r\n  }, [searchQuery, page, setScrollHeight]);\r\n\r\n  useLayoutEffect(() => {\r\n    window.scrollTo({\r\n      top: height,\r\n      behavior: 'smooth',\r\n    });\r\n  }, [height]);\r\n\r\n  const handleFormSubmit = query => {\r\n    setSearchQuery(query);\r\n    setPage(1);\r\n    setImages([]);\r\n  };\r\n\r\n  const onMoreBtnClick = () => {\r\n    setPage(state => state + 1);\r\n  };\r\n\r\n  return (\r\n    <div className={s.app}>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      {loading && <LoadingElement />}\r\n      {error && <h1 className={s.errorMessage}>{error.message}</h1>}\r\n      <ImageGallery images={images} />\r\n      {images.length > 0 && <Button onMoreBtnClick={onMoreBtnClick} />}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App/App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__5SkER\",\"button\":\"Searchbar_button__4tjO6\",\"input\":\"Searchbar_input__1NduI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3lJ5q\",\"modal\":\"Modal_modal__2aOHk\",\"closeButton\":\"Modal_closeButton__3Cbwl\"};"],"sourceRoot":""}