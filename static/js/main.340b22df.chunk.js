(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{11:function(e,t,r){e.exports={galleryItem:"ImageGalleryItem_galleryItem__3HZ6f",galleryItemImage:"ImageGalleryItem_galleryItemImage__3lPqp"}},12:function(e,t,r){e.exports={app:"App_app__1-8Qy",errorMessage:"App_errorMessage__1Fhtp"}},17:function(e,t,r){e.exports={gallery:"ImageGallery_gallery__K_J7f"}},18:function(e,t,r){e.exports={button:"Button_button__1C6y4"}},20:function(e,t,r){e.exports={loader:"LoadingElement_loader__oCfMN"}},25:function(e,t,r){},49:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),o=r(4),c=r.n(o),s=(r(25),r(13)),l=r(3),i=r(10),u=r.n(i),m=r(16),f="https://pixabay.com",b="23351611-7864196d6829752dad19e3759";function p(){return(p=Object(m.a)(u.a.mark((function e(t){var r,a,n,o,c,s,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.searchQuery,a=void 0===r?"":r,n=t.page,o=void 0===n?1:n,c=t.pageSize,s=void 0===c?12:c,e.next=3,fetch("".concat(f,"/api/?q=").concat(a,"&page=").concat(o,"&key=").concat(b,"&image_type=photo&orientation=horizontal&per_page=").concat(s));case 3:if(!(l=e.sent).ok){e.next=10;break}return e.next=7,l.json();case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=Promise.reject(new Error("Not found"));case 11:return e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=r(14),j=(r(15),r.p+"static/media/search.2c56cdac.svg"),g=r(5),h=r.n(g),O=r(1);function y(e){var t=e.onSubmit,r=Object(a.useState)(""),n=Object(l.a)(r,2),o=n[0],c=n[1];return Object(O.jsx)("header",{className:h.a.searchbar,children:Object(O.jsxs)("form",{className:h.a.form,onSubmit:function(e){e.preventDefault(),""!==o.trim()?t(o):Object(d.b)("Type in the keyword")},children:[Object(O.jsx)("button",{type:"submit",className:h.a.button,children:Object(O.jsx)("img",{className:h.a.icon,src:j,alt:"search"})}),Object(O.jsx)(d.a,{}),Object(O.jsx)("input",{className:h.a.input,type:"text",value:o,onChange:function(e){c(e.currentTarget.value)},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var k=["title","titleId"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},v.apply(this,arguments)}function x(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _(e,t){var r=e.title,n=e.titleId,o=x(e,k);return a.createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:30,height:30,viewBox:"0 0 256 256",xmlSpace:"preserve",ref:t,"aria-labelledby":n},o),r?a.createElement("title",{id:n},r):null,a.createElement("g",{transform:"translate(128 128) scale(0.87 0.87)",style:{}},a.createElement("g",{style:{stroke:"none",strokeWidth:0,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"none",fillRule:"nonzero",opacity:1},transform:"translate(-144.89999999999998 -144.90000000000003) scale(3.22 3.22)"},a.createElement("path",{d:"M 24.482 67.518 c -0.512 0 -1.024 -0.195 -1.414 -0.586 c -0.781 -0.781 -0.781 -2.047 0 -2.828 l 41.035 -41.035 c 0.781 -0.781 2.047 -0.781 2.828 0 c 0.781 0.781 0.781 2.047 0 2.828 L 25.896 66.932 C 25.506 67.322 24.994 67.518 24.482 67.518 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),a.createElement("path",{d:"M 65.518 67.518 c -0.512 0 -1.023 -0.195 -1.414 -0.586 L 23.068 25.896 c -0.781 -0.781 -0.781 -2.047 0 -2.828 c 0.78 -0.781 2.048 -0.781 2.828 0 l 41.035 41.035 c 0.781 0.781 0.781 2.047 0 2.828 C 66.541 67.322 66.029 67.518 65.518 67.518 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}),a.createElement("path",{d:"M 45 90 C 20.187 90 0 69.813 0 45 C 0 20.187 20.187 0 45 0 c 24.813 0 45 20.187 45 45 C 90 69.813 69.813 90 45 90 z M 45 4 C 22.393 4 4 22.393 4 45 s 18.393 41 41 41 s 41 -18.393 41 -41 S 67.607 4 45 4 z",style:{stroke:"none",strokeWidth:1,strokeDasharray:"none",strokeLinecap:"butt",strokeLinejoin:"miter",strokeMiterlimit:10,fill:"#fff",fillRule:"nonzero",opacity:1},transform:" matrix(1 0 0 1 0 0) ",strokeLinecap:"round"}))))}var w=a.forwardRef(_),L=(r.p,r(8)),I=r.n(L),S=document.querySelector("#modal-root");function E(e){var t=e.toggleModal,r=e.largeImageURL,n=e.tags;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(O.jsxs)("div",{className:I.a.overlay,onClick:function(e){var r=e.currentTarget===e.target,a="svg"===e.target.nodeName,n="path"===e.target.nodeName;(r||a||n)&&t()},children:[Object(O.jsx)(w,{className:I.a.closeButton,fill:"#fff"}),Object(O.jsx)("div",{className:I.a.modal,children:Object(O.jsx)("img",{src:r,alt:n})})]}),S)}var M=r(11),N=r.n(M);function C(e){var t=e.id,r=e.webformatURL,n=e.largeImageURL,o=e.tags,c=Object(a.useState)(!1),s=Object(l.a)(c,2),i=s[0],u=s[1],m=function(){u(!i)};return Object(O.jsxs)("li",{className:N.a.galleryItem,children:[Object(O.jsx)("img",{onClick:m,className:N.a.galleryItemImage,src:r,alt:o}),i&&Object(O.jsx)(E,{largeImageURL:n,tags:o,toggleModal:m})]},t)}var R=r(17),z=r.n(R),B=function(e){var t=e.images;return Object(O.jsx)("ul",{className:z.a.gallery,children:t.map((function(e){var t=e.id,r=e.webformatURL,a=e.largeImageURL,n=e.tags;return Object(O.jsx)(C,{id:t,webformatURL:r,largeImageURL:a,tags:n},t)}))})},U=r(18),P=r.n(U),D=function(e){var t=e.onMoreBtnClick;return Object(O.jsx)("button",{className:P.a.button,onClick:t,children:"Load more"})},H=r(19),T=r.n(H),q=(r(48),r(20)),J=r.n(q),W=function(){return Object(O.jsx)(T.a,{className:J.a.loader,type:"Oval",color:"#3f51b5",height:100,width:100})},G=r(12),Q=r.n(G);function A(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),r=t[0],n=t[1],o=Object(a.useState)([]),c=Object(l.a)(o,2),i=c[0],u=c[1],m=Object(a.useState)(1),f=Object(l.a)(m,2),b=f[0],d=f[1],j=Object(a.useState)(!1),g=Object(l.a)(j,2),h=g[0],k=g[1],v=Object(a.useState)(null),x=Object(l.a)(v,2),_=x[0],w=x[1],L=Object(a.useState)(null),I=Object(l.a)(L,2),S=I[0],E=I[1];console.log(S);var M=Object(a.useCallback)((function(){var e=document.body.scrollHeight-(document.body.scrollHeight-(document.documentElement.clientHeight+document.documentElement.scrollTop-150));E(e)}),[]);Object(a.useEffect)((function(){r&&(k(!0),function(e){return p.apply(this,arguments)}({searchQuery:r,page:b}).then((function(e){u((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),b>1&&M()})).catch((function(e){return w({error:e})})).finally((function(){return k(!1)})))}),[r,b,M]),Object(a.useLayoutEffect)((function(){window.scrollTo({top:S,behavior:"smooth"})}),[S]);return Object(O.jsxs)("div",{className:Q.a.app,children:[Object(O.jsx)(y,{onSubmit:function(e){n(e),d(1),u([])}}),h&&Object(O.jsx)(W,{}),_&&Object(O.jsx)("h1",{className:Q.a.errorMessage,children:_.message}),Object(O.jsx)(B,{images:i}),i.length>0&&Object(O.jsx)(D,{onMoreBtnClick:function(){d((function(e){return e+1}))}})]})}c.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(A,{})}),document.getElementById("root"))},5:function(e,t,r){e.exports={searchbar:"Searchbar_searchbar__5SkER",button:"Searchbar_button__4tjO6",input:"Searchbar_input__1NduI"}},8:function(e,t,r){e.exports={overlay:"Modal_overlay__3lJ5q",modal:"Modal_modal__2aOHk",closeButton:"Modal_closeButton__3Cbwl"}}},[[49,1,2]]]);
//# sourceMappingURL=main.340b22df.chunk.js.map